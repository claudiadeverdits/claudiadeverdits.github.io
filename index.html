<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Profile App</title>
        <style>
            #profile1 {float: left; width: 50%;}
            #profile2 {float:left; width: 50%;}
        </style>
    </head>
    <body>
        <img src="banner.png" width="100%">
        <div id="profile1">
            <h1>Profile 1</h1>

            <h4>Name:</h4>
            <p id="findName1"></p>

            <h4>Birthday:</h4>
            <p id="findBirthday1"></p>

            <h4>Phone Number:</h4>
            <p id="findNumber1"></p>

            <h4>Bio:</h4>
            <p id="findBio1"></p>

            <h4>Profile Picture:</h4>
            <img src="" id="findPic1" width="100px">
        </div>

        <div id="profile2">
            <h1>Profile 2</h1>
            <h4>Name:</h4>
            <p id="findName2"></p>

            <h4>Birthday:</h4>
            <p id="findBirthday2"></p>

            <h4>Phone Number:</h4>
            <p id="findNumber2"></p>

            <h4>Bio:</h4>
            <p id="findBio2"></p>

            <h4>Profile Picture:</h4>
            <img src="" id="findPic2" width="100px">
        </div>

        <div id="thunkable-container">
            <iframe src="https://thunkable.site/w/UTmz9Zdak-9NwWZ5O97B9" style="width: 100%; height: 500px; border: none;"></iframe>
    
        </div>

        <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries

            // Your web app's Firebase configuration
            const firebaseConfig = {
            apiKey: "AIzaSyBXtlXniJpBby7_Yn12WoXylfKBvc5v1IE",
            authDomain: "profileapp-2f04a.firebaseapp.com",
            databaseURL: "https://profileapp-2f04a-default-rtdb.firebaseio.com",
            projectId: "profileapp-2f04a",
            storageBucket: "profileapp-2f04a.appspot.com",
            messagingSenderId: "563898887549",
            appId: "1:563898887549:web:828a5e3b631fdccd8ab014"
            };

            // Initialize Firebase
            const app = initializeApp(firebaseConfig);


            import {getDatabase, ref, get, child} from "https://www.gstatic.com/firebasejs/10.4.0/firebase-database.js";

            const db = getDatabase();
            

            var idOne = "4D2PZdrv8qRVAnixEyGCzFqanIT2";
            var idTwo = "mRflqtC9QhRruZGukrdpIJL7wM83";
            var findName1 = document.getElementById("findName1");
            var findBirthday1 = document.getElementById("findBirthday1");
            var findNumber1 = document.getElementById("findNumber1");
            var findBio1 = document.getElementById("findBio1");
            var findPic1 = document.getElementById("findPic1");

            var findName2 = document.getElementById("findName2");
            var findBirthday2 = document.getElementById("findBirthday2");
            var findNumber2 = document.getElementById("findNumber2");
            var findBio2 = document.getElementById("findBio2");
            var findPic2 = document.getElementById("findPic2");
          
            function displayProfile(idNum, name, birthday, num, bio, pic){
                const dbref = ref(db);
                get(child(dbref, idNum)).then((snapshot) => {
                    if(snapshot.exists()) {
                        name.innerHTML = snapshot.val().name;
                        birthday.innerHTML = snapshot.val().birthday;
                        num.innerHTML = snapshot.val().number;
                        bio.innerHTML = snapshot.val().bio;
                        pic.src = snapshot.val().image;
                        
                    }
                    else{
                        alert("No data found");
                    }
                })
                .catch((error)=>{
                    alert(error);
                })
            }
            
            displayProfile(idOne, findName1, findBirthday1, findNumber1, findBio1, findPic1);
            displayProfile(idTwo, findName2, findBirthday2, findNumber2, findBio2, findPic2);
            
        </script>
    </body>
</html>
